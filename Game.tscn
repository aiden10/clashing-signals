[gd_scene load_steps=13 format=3 uid="uid://dapfbmxyjm806"]

[ext_resource type="Script" uid="uid://rkboberdy6dh" path="res://game.gd" id="1_xkndl"]
[ext_resource type="PackedScene" uid="uid://n6jmxacj44r4" path="res://Cursor.tscn" id="3_u44n3"]
[ext_resource type="PackedScene" uid="uid://s7jtb02p6dox" path="res://ui/PlayerDisplay.tscn" id="4_sb48q"]
[ext_resource type="PackedScene" uid="uid://bf63fkilkgciu" path="res://ui/game_over/GameOver.tscn" id="5_3mrqo"]
[ext_resource type="Shader" uid="uid://winj22x5v8kf" path="res://effects/crt.gdshader" id="5_t88pq"]
[ext_resource type="Script" uid="uid://b3prtgpwt015t" path="res://audio_manager.gd" id="6_3mrqo"]
[ext_resource type="Texture2D" uid="uid://crwr185l6pu16" path="res://icon.svg" id="6_r0x5m"]

[sub_resource type="Environment" id="Environment_sb48q"]
background_mode = 3
glow_enabled = true
glow_strength = 0.75
glow_bloom = 0.5
glow_blend_mode = 0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_r0x5m"]
shader = ExtResource("5_t88pq")
shader_parameter/exposure = 1.00000004098023
shader_parameter/contrast = 1.00000002375
shader_parameter/saturation = 0.8
shader_parameter/enable_pixelate = true
shader_parameter/pixel_factor = 3.2000001045
shader_parameter/enable_posterize = true
shader_parameter/color_levels = 8.0
shader_parameter/dither_strength = 0.50000002375
shader_parameter/chrom_aberration = 0.0250000011875
shader_parameter/vignette_strength = 0.2000000095
shader_parameter/grain_strength = 0.25
shader_parameter/tint_strength = 0.0
shader_parameter/scanline_density = 240.0
shader_parameter/scanline_strength = 0.2000000095
shader_parameter/glitch_strength = 0.010000000475
shader_parameter/glitch_speed = 8.00000038
shader_parameter/viewport_size_override = Vector2(0, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_sb48q"]
normal = Vector2(0, 1)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_r0x5m"]
vertices = PackedVector2Array(1867.9531, 55, 1867.0469, 1022.0781, 1094.5, 755.5, 1094, 753, 1094, 354, 1100.5, 341.5, 1094.5, 1023.28906, 825.5, 755.5, 825, 753, 825.5, 1023.7031, 52, 1024.9063, 52, 55, 825, 354, 831.5, 55, 831.5, 341.5, 1100.5, 55)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(1, 6, 2), PackedInt32Array(3, 2, 7, 8), PackedInt32Array(7, 9, 10, 11, 8), PackedInt32Array(12, 8, 11), PackedInt32Array(12, 11, 13, 14), PackedInt32Array(4, 12, 14, 5), PackedInt32Array(0, 5, 15)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-3, 0, 1923, 0, 1922, 1077, -3, 1080)])
agent_radius = 55.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3mrqo"]
size = Vector2(159, 289)

[node name="Game" type="Node2D"]
script = ExtResource("1_xkndl")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_sb48q")

[node name="ElixirTimer" type="Timer" parent="."]
autostart = true

[node name="Stage1Timer" type="Timer" parent="."]

[node name="Stage2Timer" type="Timer" parent="."]

[node name="P1" type="Node" parent="."]

[node name="Cursor" parent="P1" instance=ExtResource("3_u44n3")]
position = Vector2(720, 540)

[node name="Tower1" type="Marker2D" parent="P1"]
position = Vector2(520, 230)

[node name="Tower2" type="Marker2D" parent="P1"]
position = Vector2(300, 540)

[node name="Tower3" type="Marker2D" parent="P1"]
position = Vector2(520, 860)

[node name="P2" type="Node" parent="."]

[node name="Cursor" parent="P2" instance=ExtResource("3_u44n3")]
position = Vector2(1200, 540)
player = 1

[node name="Tower1" type="Marker2D" parent="P2"]
position = Vector2(1400, 230)

[node name="Tower2" type="Marker2D" parent="P2"]
position = Vector2(1620, 540)

[node name="Tower3" type="Marker2D" parent="P2"]
position = Vector2(1400, 860)

[node name="ColorRect" type="ColorRect" parent="."]
offset_left = -151.0
offset_top = -90.0
offset_right = 2028.0
offset_bottom = 1138.0
color = Color(0, 0, 0, 1)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="PlayerDisplay1" parent="CanvasLayer" instance=ExtResource("4_sb48q")]
anchors_preset = -1
anchor_left = 0.01
anchor_top = 0.01
anchor_right = 0.01
anchor_bottom = 0.01
offset_right = 0.0

[node name="PlayerDisplay2" parent="CanvasLayer" instance=ExtResource("4_sb48q")]
anchors_preset = -1
anchor_left = 0.91
anchor_top = 0.01
anchor_right = 1.0
anchor_bottom = 0.01
grow_horizontal = 0
player = 1

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_r0x5m")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0)

[node name="GameOver" parent="CanvasLayer" instance=ExtResource("5_3mrqo")]
process_mode = 2
modulate = Color(1, 1, 1, 0)

[node name="ArenaBorder" type="StaticBody2D" parent="."]
collision_layer = 129
collision_mask = 129

[node name="WorldBorderDown" type="CollisionShape2D" parent="ArenaBorder"]
shape = SubResource("WorldBoundaryShape2D_sb48q")

[node name="WorldBorderLeft" type="CollisionShape2D" parent="ArenaBorder"]
position = Vector2(175, 0)
rotation = 4.712389
shape = SubResource("WorldBoundaryShape2D_sb48q")

[node name="WorldBorderRight" type="CollisionShape2D" parent="ArenaBorder"]
position = Vector2(1745, 0)
rotation = 1.5707964
shape = SubResource("WorldBoundaryShape2D_sb48q")

[node name="WorldBorderUp" type="CollisionShape2D" parent="ArenaBorder"]
position = Vector2(0, 1080)
rotation = 3.1415927
shape = SubResource("WorldBoundaryShape2D_sb48q")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_r0x5m")

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D"]
position = Vector2(967, 549)

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/StaticBody2D"]
position = Vector2(-7.5, 4.5)
shape = SubResource("RectangleShape2D_3mrqo")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="NavigationRegion2D/StaticBody2D"]
position = Vector2(-7, 406)
shape = SubResource("RectangleShape2D_3mrqo")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="NavigationRegion2D/StaticBody2D"]
position = Vector2(-1, -407)
shape = SubResource("RectangleShape2D_3mrqo")

[node name="Sprite2D" type="Sprite2D" parent="NavigationRegion2D/StaticBody2D"]
modulate = Color(0, 4.415934, 0, 1)
position = Vector2(-6, 5.5)
scale = Vector2(1.265625, 2.2578125)
texture = ExtResource("6_r0x5m")

[node name="Sprite2D2" type="Sprite2D" parent="NavigationRegion2D/StaticBody2D"]
modulate = Color(0, 4.415934, 0, 1)
position = Vector2(0, -402)
scale = Vector2(1.265625, 2.2578125)
texture = ExtResource("6_r0x5m")

[node name="Sprite2D3" type="Sprite2D" parent="NavigationRegion2D/StaticBody2D"]
modulate = Color(0, 4.415934, 0, 1)
position = Vector2(-6, 407)
scale = Vector2(1.265625, 2.2578125)
texture = ExtResource("6_r0x5m")

[node name="Audio" type="Node" parent="."]
script = ExtResource("6_3mrqo")
